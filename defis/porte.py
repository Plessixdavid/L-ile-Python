from divers.anima_porte import *
from time import *
import os
import sys
import json
from options.joueur import *

with open('joueur.json', 'r', encoding='utf-8') as f:
    joueur = json.load(f)

def door():
    map_mattrix = [
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,0,0,0,0,0,0,0,0,0,0,7,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,7,0,7,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [7,0,0,0,0,0,0,0,0,7,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [0,7,0,0,0,0,7,7,7,0,0,0,0,7,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,7,0,0,7,0,0,0,7,7,7,7,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,7,7,7,0,0,0,0,0,7,0,7,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [7,7,0,0,7,0,0,0,0,0,7,0,7,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,7,0,0,0,7,0,0,0,7,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,7,0,0,7,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], 
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4], 
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],
    [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],

    ]

    for y in range(len(map_mattrix)):
        row = ""
        for x in range(len(map_mattrix[y])):
            element = map_mattrix[y][x]
            if element == 7:
                row+="â¬›"
            elif element == 5:
                row+="ðŸŸ¥"  
            elif element == 4:
                row+="ðŸŸ«"
            elif element == 3:
                row+="ðŸŸ¨"
            elif element == 0:
                row+="ðŸ“œ"
            elif element == 1:
                row+="ðŸŸ¦"
            elif element == 2:
                row+="â¬›"
            
            else:
                row+="0"
        print(row)

    disdoor = ("Tout au nord de la zone, Ã  cÃ´tÃ© dâ€™une magnifique cascade descendant de la montagne,",
            "tu remarques une grotte.\n",
            "IntriguÃ©, tu y pÃ©nÃ¨tres mais lâ€™intÃ©rieur est trÃ¨s sombre.",
            "Heureusement, une torche et un silex pour lâ€™allumer se trouvent sur une pierre prÃ¨s de lâ€™entrÃ©e.",
            "Tu allumes donc la torche et tu tâ€™enfonces dans la grotte. Au bout de quelques minutes,",
            "tu trouves une grosse porte en bois qui bloque le passage.\n"
            "Au milieu de cette porte, trois grosses serrures qui semblent reflÃ©ter les couleurs de 3 mÃ©taux",
            "prÃ©cieux : bronze, argent et or.")


    for e in disdoor:
        print('{:^100}'.format(e))
        sleep(0.5)

    for k in joueur.keys():
        if "clÃ©f or" in joueur:
            print(f"{joueur['names']}  mets la clef or dans sa sÃ©rrure.")
            sleep(1)
        if "clÃ©f argent" in joueur:
            print(f"{joueur['names']}  mets la clef argent dans sa sÃ©rrure.")
            sleep(1)
        if "clÃ©f bronze" in joueur:
            print(f"{joueur['names']}  mets la clef bronze dans sa sÃ©rrure.")
            sleep(1)
            break
        else:
            print(f"{joueur['names']} il te manque au moins une clef... revient quand tu l'auras.")
            break

    
    frame1()
    frame2()
    frame3()
